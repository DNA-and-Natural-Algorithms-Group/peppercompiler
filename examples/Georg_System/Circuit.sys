declare system Circuit: ->

import Input_Strand, Translate, Translate_Rev, Translate_Loop
import And21_Rev, And31, Threshold, Detector

# Inputs
component In1 = Input_Strand("TGAGGTAGTAGGTTGTATGGT",  21): -> let_7c   # 15nt data region
component In2 = Input_Strand("TAAGGCACGCGGTGAATGCC",   20): -> miR_124a # 14nt "
component In3 = Input_Strand("TAGCAGCACATAATGGTTTGTG", 22): -> miR_15a  # 16nt "
component In4 = Input_Strand("CCCTGTAGAACCGAATTTGTGT", 22): -> miR_10b  # ---"---
component In5 = Input_Strand("TGAGATGAAGCACTGTAGCTCA", 22): -> miR_143
component In6 = Input_Strand("TGGAGTGTGACAATGGTGTTTG", 22): -> miR_122a

# Translation
component Trans1 = Translate(6, 15, 30, 3): let_7c -> Jout
component Trans2 = Translate_Rev(6, 14, 30, 3): miR_124a -> Mout
component Trans3 = Translate(6, 16, 30, 0): miR_15a -> Sout
component Trans4 = Translate(6, 16, 30, 1): miR_10b -> Sout
component Trans5 = Translate(6, 16, 30, 3): miR_143 -> Rout  # Can't design the actual psuedoknotted gate

component Trans6 = Translate(6, 16, 30, 3): miR_122a -> Nout
component Trans7 = Translate_Loop(6, 30, 30, 3, 15): Nout -> Rout

# Circuit
component And1 = And21_Rev(6, 30, 30, 30, 3, 15): Jout + Mout -> Eout

component And2 = And31(6, 30, 30, 30, 30, 3, 15): Sout + Eout + Rout -> Aout

component Thresh = Threshold(6, 30, 30, 30, 30, 3, 15): Aout -> Th_out

#component Det_Out = Detector(6, 30): Th_out -> 
